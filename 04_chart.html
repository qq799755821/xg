<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    canvas{
        display: block;
        margin:0 auto;
        border: 1px solid #000;
    }
    </style>
<body>
    <canvas class="canvas"></canvas>

    <script>
let   data=[{
    label:"服装鞋帽",
    value:300
},{
    label:"家具家居",
    value:400
},{
    label:"手机电视",
    value:250
},{
    label:"超级绿帽",
    value:350
},{
    label:"洗衣机",
    value:300
}]

let  canele=document.querySelector('.canvas');
console.log(canele)
canele.width=540
canele.height=600
let ctx= canele.getContext('2d')
//绘制两条坐标线
ctx.beginPath()
//定义起点
ctx.moveTo(50,50)
//线段
ctx.lineTo(50,canele.height-50)
ctx.lineTo(canele.width-50,canele.height-50)
//颜色
ctx.strokeStyle='red'
ctx.stroke()

//设置间距宽度
let width=50
//计算间距
// 间距=( 画布总宽度-(数量*每个的宽度) )  /   数量+1
let distance=Math.ceil((canele.width-data.length*width-100)/(data.length+1))
console.log(distance)
//绘制图形
    for(let i=0;i<data.length;i++){
      let x=(i+1)*distance+i*width+50
      let y=canele.height-data[i].value-50
      //设置填充颜色 
        ctx.fillStyle= i%2==1? "green" :'red'
        ctx.fillRect(x,y,width,data[i].value)

     //设置本文大小
     ctx.font='15px Microsoft Yahei'
     //设置文本颜色
     ctx.fillStyle="#000"
     //设置本文对齐方式
     ctx.textAlign='center'

        //设置数量标识
        ctx.fillText(data[i].value,x+Math.ceil(width/2),y-10)
        //设置本文大小
     ctx.font= 'bold 15px Microsoft Yahei'
         //绘制标签文本
    ctx.fillText(data[i].label,x+Math.ceil(width/2),canele.height-25)
    }
   
    </script>
</body>
</html>